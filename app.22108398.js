!function(l){function e(e){for(var t,r,n=e[0],i=e[1],o=e[2],a=0,s=[];a<n.length;a++)r=n[a],u[r]&&s.push(u[r][0]),u[r]=0;for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&(l[t]=i[t]);for(h&&h(e);s.length;)s.shift()();return f.push.apply(f,o||[]),c()}function c(){for(var e,t=0;t<f.length;t++){for(var r=f[t],n=!0,i=1;i<r.length;i++){var o=r[i];0!==u[o]&&(n=!1)}n&&(f.splice(t--,1),e=a(a.s=r[0]))}return e}var r={},u={0:0},f=[];function a(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return l[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=l,a.c=r,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="./";var t=window.webpackJsonp=window.webpackJsonp||[],n=t.push.bind(t);t.push=e,t=t.slice();for(var i=0;i<t.length;i++)e(t[i]);var h=n;f.push([10,1]),c()}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();var o=function(){function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.element=e,this.props=t}return i(r,[{key:"setProps",value:function(e){var t=n({},this.props,e);this.processNewProps(t),this.props=t}},{key:"processNewProps",value:function(e){}},{key:"render",value:function(e){}}]),r}();t.default=o},function(e,t,r){"use strict";function s(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getXDomain=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{start:0,end:100},r=Math.floor(e.length*t.start/100),n=Math.floor(e.length*t.end/100),i=e.slice(r,n),o=Math.min.apply(Math,s(i)),a=Math.max.apply(Math,s(i));return[o,a]},t.getYDomain=function(e,o){var t=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=e.reduce(function(e,t){if(!t.shown)return e;var r=Math.floor(t.points.length*o.start/100),n=Math.floor(t.points.length*o.end/100),i=t.points.slice(r,n);return e.concat(i)},[]);if(0===r.length)return[0,0];var n=t?0:Math.min.apply(Math,s(r)),i=Math.max.apply(Math,s(r));return[n,i]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildScale=function(t,r){return{domain:t,range:r,project:function(e){return r[0]+(e-t[0])/(t[1]-t[0])*(r[1]-r[0])},invert:function(e){return t[0]+(e-r[0])/(r[1]-r[0])*(t[1]-t[0])}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={0:{short:"Jan",full:"January"},1:{short:"Feb",full:"February"},2:{short:"Mar",full:"March"},3:{short:"Apr",full:"April"},4:{short:"May",full:"May"},5:{short:"Jun",full:"June"},6:{short:"Jul",full:"July"},7:{short:"Aug",full:"August"},8:{short:"Sep",full:"September"},9:{short:"Oct",full:"October"},10:{short:"Nov",full:"November"},11:{short:"Dec",full:"December"}},o={0:"Mon",1:"Tue",2:"Wed",3:"Thu",4:"Fri",5:"Sat",6:"Sun"};t.formatDate=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=new Date(e),n=r.getFullYear(),i=s[r.getMonth()].short+" "+r.getDate();t.weekday&&(i=o[r.getDay()]+", "+i);return t.year&&(i=i+" "+n),i},t.formatPeriodDate=function(e,t){var r=new Date(e),n=r.getFullYear(),i=r.getMonth(),o=s[i],a=r.getDate();return"l"===t?a+" "+o.full+" "+n:"m"===t?a+" "+o.short+" "+n:a+"."+i+"."+n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OFFSET=void 0;var w=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),o=c(r(0)),a=r(2),s=r(1),l=r(12),n=r(5),k=c(r(13)),_=c(r(15)),M=c(r(17));c(r(19));function c(e){return e&&e.__esModule?e:{default:e}}r(21);var d=t.OFFSET={top:35,right:25,bottom:25,left:25},u=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return f.call(r),r.tooltipShown=!1,r.tooltipData=null,r.needTooltipRedraw=!1,r.pointIndex=null,r.elementRect=r.element.getBoundingClientRect(),r.subaxis=(0,l.getAxis)(t.axis,t.frame),r.xScale=(0,a.buildScale)((0,s.getXDomain)(r.subaxis),[0,r.elementRect.width]),r.render(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),i(n,[{key:"processNewProps",value:function(e){this.tooltipShown&&!e.hoverable&&this.hideTooltip(),this.subaxis=(0,l.getAxis)(e.axis,e.frame),this.xScale=(0,a.buildScale)((0,s.getXDomain)(this.subaxis),[0,this.elementRect.width]),this.updateCanvas(e),this.updateYAxis(e),this.needTooltipRedraw&&(this.needTooltipRedraw=!1,null!==this.tooltipData?this.showTooltip(this.tooltipData.x,this.tooltipData.y,this.pointIndex):this.hideTooltip())}},{key:"render",value:function(){var e=this.props,t=e.axis,r=e.series,n=e.frame,i=e.yScaled,o=e.stacked,a=e.percentage,s=e.hoverable,l=e.darkTheme,c=e.time;this.element.classList.add("viewport"),this.element.innerHTML='\n      <div class="viewport__canvas-wrapper">\n        <canvas class="viewport__canvas"></canvas>\n        <div class="viewport__overlay"></div>\n        <div class="viewport__y-axis"></div>\n        <div class="viewport__x-axis"></div>\n        '+(a?'<div class="viewport__inner-shadow"></div>':"")+'\n      </div>\n      <div class="viewport__tooltip"></div>\n    ';var u=w(this.element.children,2),f=u[0],h=u[1],p=w(f.children,4),d=p[0],v=p[1],m=p[2];p[3];this.canvasRect=f.getBoundingClientRect();var y=this.canvasRect,g=y.width,b=y.height;this.canvas=new k.default(d,{hoverable:s,darkTheme:l,pointIndex:this.pointIndex,yScaled:i,stacked:o,width:g,height:b,axis:t,series:r,frame:n,time:c}),(this.overlay=v).addEventListener("touchmove",this.onOverMouseMove,{passive:!0}),v.addEventListener("touchend",this.onOverMouseOut,{passive:!0}),v.addEventListener("mousemove",this.onOverMouseMove),v.addEventListener("mouseout",this.onOverMouseOut),this.tooltip=new _.default(h,{shown:!1}),this.yAxis=new M.default(m,{series:r,frame:n,yScaled:i,stacked:o,percentage:a})}}]),n}(),f=function(){var p=this;this.updateYAxis=(0,n.throttle)(function(e){p.yAxis&&(p.yDomain=(0,s.getYDomain)(e.series,e.frame),p.yAxis.setProps({frame:e.frame,series:e.series}))},300,{leading:!0,trailing:!0}),this.updateCanvas=function(e){p.canvas&&p.canvas.setProps({darkTheme:e.darkTheme,hoverable:e.hoverable,series:e.series,frame:e.frame,time:e.time,pointIndex:p.pointIndex})},this.onOverMouseMove=function(e){if(p.props.hoverable){var t=p.props,r=t.axis,n=t.frame,i=p.canvasRect.width,o=p.overlay.getBoundingClientRect(),a=(e.touches?e.touches[0].clientX:e.clientX)-o.left,s=(e.touches?e.touches[0].clientY:e.clientY)-o.top,l=a,c=d.left-Math.min(i*n.start/100,d.left),u=d.right-Math.min(i*(100-n.end)/100,d.right);l-=c*(1-a/o.width),l+=u*(a/o.width);var f=Math.floor(r.length*n.start/100),h=p.subaxis.reduce(function(e,t,r){var n=p.xScale.project(p.subaxis[r]),i=p.xScale.project(p.subaxis[e]);return Math.abs(n-l)<Math.abs(i-l)?r:e},0);p.pointIndex=h+f,(a+=15)+220>o.width&&(a-=Math.min(a,250)),p.tooltipData={x:a,y:s},p.needTooltipRedraw=!0}},this.onOverMouseOut=function(){p.pointIndex=null,p.tooltipData=null,p.needTooltipRedraw=!0},this.showTooltip=function(e,t){var r=p.props,n=r.yScaled,i=r.stacked,o=r.percentage,a=p.props.series.filter(function(e){return e.shown}).map(function(e){return{name:e.name,color:e.color,value:e.points[p.pointIndex]}});p.tooltipShown=!0,p.tooltip.setProps({shown:!0,position:{x:e,y:t},datetime:p.props.axis[p.pointIndex],series:a,yScaled:n,stacked:i,percentage:o})},this.hideTooltip=function(){p.tooltipShown=!1,p.pointIndex=null,p.tooltip.setProps({shown:!1})}};t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=function(o,a){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},l=void 0,c=void 0,u=void 0,f=null,h=0,p=function(){h=!1===s.leading?0:Date.now(),f=null,u=o.apply(l,c),f||(c=l=null)};return function(){var e=Date.now();h||!1!==s.leading||(h=e);var t=a-(e-h);l=this;for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return c=n,t<=0||a<t?(f&&(clearTimeout(f),f=null),h=e,u=o.apply(l,c),f||(l=c=null)):f||!1===s.trailing||(f=setTimeout(p,t)),u}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAnimation=function(e,t){return{fromValue:e,toValue:e,value:e,startTime:0,duration:t,delay:0}},t.animate=function(e,t,r){e.startTime=r,e.toValue=t,e.fromValue=e.value},t.updateAnimation=function(e,t){if(e.value===e.toValue)return!1;var r=(t-e.startTime-e.delay)/e.duration;r<0&&(r=0);1<r&&(r=1);var n=-r*(r-2);return e.value=e.fromValue+(e.toValue-e.fromValue)*n,!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.toArray=function(e){return Array.prototype.slice.apply(e)},t.keyBy=function(e,r){return e.reduce(function(e,t){return n({},e,function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}({},t[r],t))},{})},t.diff=function(e,t){return e.filter(function(e){return!t.includes(e)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.getStackedSeries=function(e){var t=[],n=[];return e.forEach(function(e){e.shown&&(e.points.forEach(function(e,t){var r=n[t]||0;n[t]=r+e}),t.push(i({},e,{points:[].concat(n)})))}),t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),o=r(0),a=(n=o)&&n.__esModule?n:{default:n};var s=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r.render(t),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.default),i(n,[{key:"processNewProps",value:function(e){this.render(e)}},{key:"render",value:function(e){var M=e.darkTheme,x=e.context,O=e.axis,T=e.startI,S=e.endI,t=e.series,E=e.xScale,j=e.yScale,P=e.strokeWidth,r=e.stacked,D=e.pointIndex,L=r?[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(t)).reverse():t;L.forEach(function(e){var t=e.type,r=e.color,n=e.points;if(x.beginPath(),x.strokeStyle=r,x.lineJoin="bevel",x.lineCap="butt","line"===t){x.globalAlpha=e.aOpacity.value;for(var i=T;i<S;i+=1){var o=O[i],a=E.project(o),s=j.project(n[i]);i===T&&x.moveTo(a,s),x.lineTo(a,s)}return x.lineWidth=P,x.lineCap="round",void x.stroke()}if("bar"!==t){if("area"===t){for(var l=!0,c=0,u=n.length;c<u;c+=1)l=l&&0===n[c];if(l)return;for(var f=T;f<S;f+=1){var h=O[f],p=E.project(h),d=n[f]/L[0].points[f],v=j.range[1]+(j.range[0]-j.range[1])*(1-d);f===T&&x.moveTo(p,j.range[0]),x.lineTo(p,v)}if(x.lineTo(E.range[1],j.range[0]),x.lineWidth=P,x.lineCap="round",x.closePath(),x.stroke(),x.fillStyle=r,x.fill(),null!==D){var m=E.project(O[D]);x.beginPath(),x.lineWidth=1,x.strokeStyle=M?"rgba(255, 255, 255, 0.05)":"rgba(25, 45, 60, 0.1)",x.moveTo(m,j.range[0]),x.lineTo(m,j.range[1]),x.stroke()}}}else{x.globalAlpha=1;for(var y=E.project(O[T]),g=E.project(O[T+1])-y+(null===D?1:0),b=T;b<S;b+=1){null!==D&&(x.globalAlpha=D!==b?.5:1);var w=E.project(O[b]),k=j.project(n[b]),_=b/S*g;x.fillStyle=r,x.fillRect(w-_,k,g,j.range[0]-k)}}}),L.forEach(function(e){var t=e.type,r=e.color,n=e.points;if("line"===t&&null!==D){var i=E.project(O[D]),o=j.project(n[D]);x.beginPath(),x.strokeStyle=M?"rgba(255, 255, 255, 0.05)":"rgba(25, 45, 60, 0.1)",x.lineWidth=1,x.moveTo(i,j.range[0]),x.lineTo(i,j.range[1]),x.stroke();x.lineWidth=1.5*window.devicePixelRatio,x.strokeStyle=r,x.fillStyle=M?"#242f3d":"white",x.beginPath(),x.arc(i,o+1.5,3,0,2*Math.PI),x.stroke(),x.fill()}}),x.globalAlpha=1}}]),n}();t.default=s},function(e,t,r){"use strict";var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=n(r(11)),u=n(r(29));function n(e){return e&&e.__esModule?e:{default:e}}r(35),function(){var a={darkTheme:!0},e=function(e){return e?"Switch to Day Mode":"Switch to Night Mode"},t=document.getElementById("app");if(null!==t){t.innerHTML='\n    <div class="app-charts"></div>\n    <div class="app-theme-switcher">\n      <span>'+e(a.darkTheme)+"</span>   \n    </div>\n  ";var r=o(t.children,2),s=r[0],n=r[1],i=u.default,l=[];i.forEach(function(e,t){var r=document.createElement("div");s.appendChild(r);var n=e.y_scaled||!1,i=e.stacked||!1,o=e.percentage||!1;l.push(new c.default(r,{data:e,title:e.title||"Chart #"+t,darkTheme:a.darkTheme,yScaled:n,stacked:i,percentage:o}))}),a.darkTheme&&t.classList.add("app--dark"),n.addEventListener("click",function(){t.classList.toggle("app--dark"),a.darkTheme=!a.darkTheme,n.innerHTML=e(a.darkTheme),l.forEach(function(e){e.setProps({darkTheme:a.darkTheme})})})}}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),i=d(r(0)),a=r(5),s=r(6),c=r(3),o=r(1),u=r(8),f=d(r(4)),h=d(r(22)),p=d(r(25));function d(e){return e&&e.__esModule?e:{default:e}}r(28);var v="chart--dark",m=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.onToggleClick=function(t,r,e){var n=o.state.series;t&&e&&n.forEach(function(e){e.shown=!1}),n.forEach(function(e){e.id===r.id&&(e.shown=t)}),n.forEach(function(e){var t=o.getYDomain(o.props,n,e),r=o.getYDomainGlobal(o.props,n,e);(0,s.animate)(e.aOpacity,e.shown?1:0,o.time),(0,s.animate)(e.aDomainMin,t[0],o.time),(0,s.animate)(e.aDomainMax,t[1],o.time),(0,s.animate)(e.aDomainMinGlobal,r[0],o.time),(0,s.animate)(e.aDomainMaxGlobal,r[1],o.time)})},o.onExplorerFrameChangeStart=function(){o.viewport&&o.viewport.setProps({hoverable:!1})},o.onExplorerFrameChangeEnd=function(){o.viewport&&o.viewport.setProps({hoverable:!0})},o.onFrameChange=function(e){var r=o.state.series;o.state.frame=e,r.forEach(function(e){var t=o.getYDomain(o.props,r,e);(0,s.animate)(e.aDomainMin,t[0],o.time),(0,s.animate)(e.aDomainMax,t[1],o.time)})},o.updatePeriod=(0,a.throttle)(function(){o.period.innerText=o.getPeriodLabel()},500,{trailing:!0}),o.redraw=function(e){var t=o.state,r=t.frame,n=t.series,i=o.props.darkTheme;o.time=e,o.viewport&&o.viewport.setProps({darkTheme:i,time:e,frame:r,series:n}),o.explorer&&o.explorer.setProps({time:e,frame:r,series:n}),o.controls&&o.controls.setProps({series:n}),o.updatePeriod(),requestAnimationFrame(o.redraw)},o.time=0,o.state={axis:o.getAxis(),series:o.getSeries(),frame:{start:75,end:100}},o.fromZero=0<o.state.series.length&&("bar"===o.state.series[0].type||"area"===o.state.series[0].type),o.state.series.forEach(function(e){var t=o.getYDomain(n,o.state.series,e),r=o.getYDomainGlobal(n,o.state.series,e);e.aOpacity=(0,s.createAnimation)(1,300),e.aDomainMin=(0,s.createAnimation)(t[0],300),e.aDomainMax=(0,s.createAnimation)(t[1],300),e.aDomainMinGlobal=(0,s.createAnimation)(r[0],300),e.aDomainMaxGlobal=(0,s.createAnimation)(r[1],300)}),window.addEventListener("resize",(0,a.throttle)(function(){var e=o.element.getBoundingClientRect();o.elementBCR.width!==e.width&&o.render()},300)),o.render(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),n(t,[{key:"processNewProps",value:function(e){e.darkTheme?this.element.classList.add(v):this.element.classList.remove(v)}},{key:"getAxis",value:function(){var e=this.props.data,t=e.columns,r=e.types,n=t.find(function(e){if("string"!=typeof e[0])return!1;var t=e[0];return"x"===r[t]});return void 0===n?[]:n.slice(1)}},{key:"getSeries",value:function(){var e=this.props.data,r=e.colors,t=e.columns,n=e.types,i=e.names;return t.filter(function(e){if("string"!=typeof e[0])return!1;var t=e[0],r=n[t];return"line"===r||"bar"===r||"area"===r}).map(function(e){var t=e[0];return{id:t,points:e.slice(1),name:i[t],type:n[t],color:r[t],shown:!0}})}},{key:"getStackedSeries",value:function(e){return this.props.stacked?(0,u.getStackedSeries)(e):e}},{key:"getYDomain",value:function(e,t,r){var n=this.state.frame;if(e.yScaled)return(0,o.getYDomain)([r],n,this.fromZero);if(e.stacked){var i=this.getStackedSeries(t);return(0,o.getYDomain)(i,n,this.fromZero)}return(0,o.getYDomain)(t,n,this.fromZero)}},{key:"getYDomainGlobal",value:function(e,t,r){var n={start:0,end:100};if(e.yScaled)return(0,o.getYDomain)([r],n,this.fromZero);if(e.stacked){var i=this.getStackedSeries(t);return(0,o.getYDomain)(i,n,this.fromZero)}return(0,o.getYDomain)(t,n,this.fromZero)}},{key:"getPeriodLabel",value:function(){var e=this,t=this.state,r=t.frame,n=t.axis,i=n.length,o=n[Math.floor((i-1)/100*r.start)],a=n[Math.floor((i-1)/100*r.end)]-1,s=400<e.elementBCR.width?"l":300<e.elementBCR.width?"m":"s";return(0,c.formatPeriodDate)(o,s)+" - "+(0,c.formatPeriodDate)(a,s)}},{key:"render",value:function(){this.element.classList.add("chart"),this.props.darkTheme&&this.element.classList.add(v),this.element.innerHTML='\n      <div class="chart__header">\n        <div class="chart__title"></div>     \n        <div class="chart__period"></div>     \n      </div>\n      <div class="chart__viewport"></div>\n      <div class="chart__explorer"></div>\n      <div class="chart__controls"></div>\n    ',this.elementBCR=this.element.getBoundingClientRect();var e=l(this.element.children,4),t=e[0],r=e[1],n=e[2],i=e[3],o=l(t.children,2),a=o[0],s=o[1];a.innerText=this.props.title,s.innerText=this.getPeriodLabel(),this.period=s,this.renderViewport(r),this.renderExplorer(n),this.renderControls(i),requestAnimationFrame(this.redraw)}},{key:"renderViewport",value:function(e){var t=this.state,r=t.axis,n=t.series,i=t.frame,o=this.props,a=o.darkTheme,s=o.yScaled,l=o.stacked,c=o.percentage;this.viewport=new f.default(e,{hoverable:!0,darkTheme:a,axis:r,series:n,frame:i,yScaled:s,stacked:l,percentage:c,time:this.time})}},{key:"renderExplorer",value:function(e){var t=this.state,r=t.axis,n=t.series,i=t.frame,o=this.props,a=o.yScaled,s=o.stacked;this.explorer=new h.default(e,{axis:r,series:n,frame:i,yScaled:a,stacked:s,onFrameChange:this.onFrameChange,onFrameChangeStart:this.onExplorerFrameChangeStart,onFrameChangeEnd:this.onExplorerFrameChangeEnd,time:this.time})}},{key:"renderControls",value:function(e){var t=this.state.series;this.props.yScaled||t.length<2||(this.controls=new p.default(e,{series:t,onClick:this.onToggleClick}))}}]),t}();t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAxis=function(e,t){var r=Math.floor(e.length*t.start/100),n=Math.floor(e.length*t.end/100);return e.slice(r,n)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),i=o(r(0)),h=r(1),p=r(2),s=r(6),d=r(3),f=o(r(9)),v=r(4);function o(e){return e&&e.__esModule?e:{default:e}}r(14);var l=function(e){function o(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e,t));r.context=r.element.getContext("2d"),r.dpr=window.devicePixelRatio||1;var n=t.width,i=t.height;return e.width=n*r.dpr,e.height=i*r.dpr,e.style.width=n+"px",e.style.height=i+"px",r.context.scale(r.dpr,r.dpr),r.render(t),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,i.default),n(o,[{key:"processNewProps",value:function(r){var n=this.props.darkTheme!==r.darkTheme;this.props.series.forEach(function(t){["aOpacity","aDomainMin","aDomainMax"].forEach(function(e){(0,s.updateAnimation)(t[e],r.time)&&(n=!0)}),(0,s.updateAnimation)(t.aOpacity,r.time)&&(n=!0)}),(n||this.props.pointIndex!==r.pointIndex||this.props.frame!==r.frame)&&this.render(r)}},{key:"getStackedSeries",value:function(e){if(!this.props.stacked)return e;var t=[],i=[];return e.forEach(function(n){n.points.forEach(function(e,t){var r=i[t]||0;i[t]=r+e*n.aOpacity.value}),t.push(a({},n,{points:[].concat(i)}))}),t}},{key:"getTicks",value:function(e){for(var t=e.axis,r=e.frame,n=e.width,i=Math.floor(t.length*r.start/100),o=Math.floor(t.length*r.end/100),a=100/(r.end-r.start),s=Math.min(Math.ceil(n/520*6),9),l=Math.floor(t.length/s),c=Math.ceil(Math.log2(l/a/1.2)),u=Math.ceil(t.length/Math.pow(2,c)*a),f=[],h=0;h<u;h+=1){var p=h*Math.ceil(Math.pow(2,c));p<=i||o<=p||f.push(p)}return f}},{key:"render",value:function(t){var r=this,e=t.darkTheme,n=t.width,i=t.height,o=t.yScaled,a=t.axis,s=t.frame,l=this.getStackedSeries(t.series);this.context.clearRect(0,0,n,i);var c=(0,h.getXDomain)(a,s),u=[v.OFFSET.left-Math.min(n*s.start/100,v.OFFSET.left),n-(v.OFFSET.right-Math.min(n*(100-s.end)/100,v.OFFSET.right))];this.startI=Math.floor(a.length*s.start/100),this.endI=Math.floor(a.length*s.end/100),this.xScale=(0,p.buildScale)(c,u);var f=this.getTicks(t);this.context.font="11px 'Helvetica', 'Arial', sans-serif",this.context.fillStyle=e?"#556777":"#96A2AA",f.forEach(function(e){var t=r.xScale.project(a[e])-15;0<l.length&&"bar"===l[0].type&&(t-=(u[1]-u[0])/(r.endI-r.startI)/2);r.context.fillText((0,d.formatDate)(a[e]),t,i)}),o?l.forEach(function(e){r.renderSeries([e],t)}):this.renderSeries(l,t)}},{key:"renderSeries",value:function(e,t){var r=this.context,n=t.height,i=t.axis,o=t.stacked,a=t.pointIndex,s=t.darkTheme,l=[e[0].aDomainMin.value,e[0].aDomainMax.value],c=[n-v.OFFSET.bottom,v.OFFSET.top],u=(0,p.buildScale)(l,c);new f.default(null,{darkTheme:s,context:r,axis:i,series:e,xScale:this.xScale,yScale:u,startI:this.startI,endI:this.endI,strokeWidth:1.5,pointIndex:a,stacked:o})}}]),o}();t.default=l},function(e,t,r){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,d=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),a=r(0),s=(n=a)&&n.__esModule?n:{default:n},v=r(7),l=r(3);r(16);var c=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r.render(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,s.default),i(n,[{key:"processNewProps",value:function(e){var t=this;("number"==typeof e.datetime&&(this.datetimeEl.innerText=(0,l.formatDate)(e.datetime,{weekday:!0,year:!0})),Array.isArray(e.series))&&(this.seriesEl.innerHTML="",this.getSeries(e).forEach(function(e){t.seriesEl.appendChild(t.renderSerie(e))}));if(void 0!==e.position){var r=e.position.x;this.element.style.left=r+"px"}this.props.shown!==e.shown&&(this.element.style.opacity=""+this.getOpacity(e.shown))}},{key:"getSeries",value:function(e){var t=e.stacked;if(e.percentage){var r=e.series.reduce(function(e,t){return e+t.value},0);return e.series.map(function(e){return o({},e,{percent:+(e.value/r*100).toFixed(0)})})}if(t){var n=[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e.series)),i=e.series.reduce(function(e,t){return e+t.value},0);return n.push({name:"All",value:i,color:"white"}),n}return e.series}},{key:"getOpacity",value:function(e){return e?1:0}},{key:"formatValue",value:function(e){if(e<1e3)return e;var t=e.toString().split("").reverse().join("").match(/\d{1,3}/g);return null===t?e:t.reverse().map(function(e){return e.split("").reverse().join("")}).join(" ")}},{key:"render",value:function(){var e=this;this.element.classList.add("tooltip"),this.element.innerHTML='\n      <div class="tooltip__datetime"></div>\n      <div class="tooltip__series"></div>\n    ',setTimeout(function(){e.element.classList.add("tooltip--ready")});var t=(0,v.toArray)(this.element.children),r=d(t,2),n=r[0],i=r[1];this.datetimeEl=n,this.seriesEl=i}},{key:"renderSerie",value:function(e){var t=document.createElement("div");if(t.classList.add("tooltip__series-item"),"number"==typeof e.percent){t.innerHTML='\n        <div class="tooltip__series-item-left">\n          <div class="tooltip__series-item-percent"></div>\n          <div class="tooltip__series-item-name"></div>\n        </div>\n        <div class="tooltip__series-item-value"></div>\n      ';var r=(0,v.toArray)(t.children),n=d(r,2),i=n[0],o=n[1],a=(0,v.toArray)(i.children),s=d(a,2),l=s[0],c=s[1];return l.innerText=e.percent+"%",c.innerText=""+e.name,o.innerText=""+this.formatValue(e.value),o.style.color=e.color,t}t.innerHTML='\n      <div class="tooltip__series-item-name"></div>\n      <div class="tooltip__series-item-value"></div>\n    ';var u=(0,v.toArray)(t.children),f=d(u,2),h=f[0],p=f[1];return h.innerText=""+e.name,p.innerText=""+this.formatValue(e.value),p.style.color=e.color,t}}]),n}();t.default=c},function(e,t,r){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,f=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),o=r(0),a=(n=o)&&n.__esModule?n:{default:n},s=r(7),u=r(1),h=r(2),l=r(8),p=r(4);r(18);var c=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r.fromZero=0<t.series.length&&("bar"===t.series[0].type||"area"===t.series[0].type),r.ticks=new Map,r.render(r.props),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.default),i(n,[{key:"processNewProps",value:function(e){if(!e.percentage){if(this.fromZero=0<e.series.length&&("bar"===e.series[0].type||"area"===e.series[0].type),this.props.series!==e.series)return this.removeTicks(this.ticks.values()),this.ticks=new Map,void this.render(e);var t=e.stacked?(0,l.getStackedSeries)(e.series):e.series,r=(0,u.getYDomain)(t,e.frame,this.fromZero);this.scale=(0,h.buildScale)(r,[this.elementRect.height-p.OFFSET.bottom,p.OFFSET.top]);var n=Array.from(this.ticks.keys()),i=this.getTicks(e),o=(0,s.diff)(i,n),a=(0,s.diff)(n,i);this.renderTicks(o,this.scale,e),this.updateTicks(i,this.scale,e),this.removeTicks(a)}}},{key:"getTickStep",value:function(e){var t=f(this.scale.domain,2),r=t[0],n=t[1],i=Math.sqrt(50),o=Math.sqrt(10),a=Math.sqrt(2),s=(n-r)/Math.max(0,5),l=Math.floor(Math.log(s)/Math.LN10),c=s/Math.pow(10,l),u=i<=c?10:o<=c?5:a<=c?2:1;return 0<=l?Math.pow(10,l)*u:-Math.pow(10,-l)/u}},{key:"getTicks",value:function(e){e.stacked;var t=[];if(e.percentage)for(var r=0;r<=100;r+=25)t.push(this.scale.domain[0]+(this.scale.domain[1]-this.scale.domain[0])*r/100);else for(var n=f(this.scale.domain,1)[0],i=1*this.scale.domain[1],o=this.getTickStep(e),a=Math.ceil((i-n)/o),s=0;s<a;s+=1)t.push(n+s*o);return t}},{key:"formatTick",value:function(e){return this.props.percentage?e/(this.scale.domain[1]-this.scale.domain[0])*100+"%":this.formatNumberTick(e)}},{key:"formatNumberTick",value:function(e){if(1e6<=e){var t=e/1e6;return(t=t.toFixed(2))+"M"}if(1e3<=e){var r=e/1e3;return(r=r.toFixed(2))+"K"}return""+e}},{key:"render",value:function(e){this.element.classList.add("y-axis"),this.elementRect=this.element.getBoundingClientRect();var t=e.stacked?(0,l.getStackedSeries)(e.series):e.series,r=(0,u.getYDomain)(t,e.frame,this.fromZero);if(this.scale=(0,h.buildScale)(r,[this.elementRect.height-p.OFFSET.bottom,p.OFFSET.top]),e.percentage)for(var n=0;n<=100;n+=25){var i=this.scale.domain[0]+(this.scale.domain[1]-this.scale.domain[0])*n/100,o=this.scale.project(i),a=document.createElement("div");a.classList.add("y-axis__tick"),a.classList.add("y-axis__tick--shown"),a.style.transform="translateY("+o+"px)",a.innerHTML='\n          <span class="y-axis__tick-value">\n            '+this.formatTick(i)+"\n          </span>\n        ",this.element.appendChild(a)}else{var s=this.getTicks(this.props);this.renderTicks(s,this.scale,this.props)}}},{key:"renderTicks",value:function(e,t,s){var l=this,r=s.yScaled,c=s.series;e.forEach(function(n){var i=t.project(n),o=document.createElement("div");if(!(i<0)){o.classList.add("y-axis__tick"),o.classList.add("y-axis__tick--shown"),o.style.transform="translateY("+i+"px)";var a="";r?c.forEach(function(e){if(e.shown){var t=(0,u.getYDomain)([e],s.frame,l.fromZero),r=(0,h.buildScale)(t,[l.elementRect.height-p.OFFSET.bottom,p.OFFSET.top]).invert(i);a="\n            "+a+'\n            <span \n              class="y-axis__tick-value"\n              style="color: '+e.color+'"\n            >\n              '+l.formatTick(r)+"\n            </span>\n          ",l.ticks.set(n,o)}}):(a='\n          <span class="y-axis__tick-value">\n            '+l.formatTick(n)+"\n          </span>\n        ",l.ticks.set(n,o)),o.innerHTML=a,l.element.appendChild(o)}})}},{key:"updateTicks",value:function(e,r,s){var l=this;e.forEach(function(e){var t=l.ticks.get(e);if(t){var o=r.project(e);if(t.style.transform="translateY("+o+"px)",s.yScaled){var a=t.children;s.series.forEach(function(e,t){var r=(0,u.getYDomain)([e],s.frame,l.fromZero),n=(0,h.buildScale)(r,[l.elementRect.height-p.OFFSET.bottom,p.OFFSET.top]),i=l.formatTick(n.invert(o));a[t]&&(a[t].innerHTML=i)})}}})}},{key:"removeTicks",value:function(e){var r=this;e.forEach(function(e){var t=r.ticks.get(e);t&&t.parentNode&&(t.classList.remove("y-axis__tick--shown"),r.ticks.delete(e),setTimeout(function(){t.parentNode&&t.parentNode.removeChild(t)},300))})}}]),n}();t.default=c},function(e,t,r){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),o=r(0),a=(n=o)&&n.__esModule?n:{default:n},s=r(7),l=r(3),c=r(1),u=r(2),f=r(4);r(20);var h=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r.elementRect=e.getBoundingClientRect(),r.scale=r.getScale(t),r.ticks=new Map,r.render(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.default),i(n,[{key:"processNewProps",value:function(e){if(this.props.frame.start!==e.frame.start||this.props.frame.end!==e.frame.end){this.scale=this.getScale(e);var t=Array.from(this.ticks.keys()),r=this.getTicks(e),n=(0,s.diff)(r,t),i=(0,s.diff)(t,r);this.renderTicks(n,e),this.updateTicks(r,e),this.removeTicks(i)}}},{key:"getScale",value:function(e){var t=e.axis,r=e.width,n=e.frame,i=(0,c.getXDomain)(t,n),o=[f.OFFSET.left-Math.min(r*n.start/100,f.OFFSET.left),r-(f.OFFSET.right-Math.min(r*(100-n.end)/100,f.OFFSET.right))];return(0,u.buildScale)(i,o)}},{key:"getTicks",value:function(e){for(var t=e.axis,r=e.frame,n=Math.floor(t.length*r.start/100),i=Math.floor(t.length*r.end/100),o=100/(r.end-r.start),a=Math.min(Math.ceil(this.elementRect.width/520*6),9),s=Math.floor(t.length/a),l=Math.ceil(Math.log2(s/o/1.2)),c=Math.ceil(t.length/Math.pow(2,l)*o),u=[],f=0;f<c;f+=1){var h=f*Math.ceil(Math.pow(2,l));h<=n||i<=h||u.push(h)}return u}},{key:"getTickValueModificator",value:function(e){var t=this.props.axis;return 0===e?"x-axis__tick-value--first":e===t.length-1?"x-axis__tick-value--last":""}},{key:"render",value:function(){this.element.classList.add("x-axis");var e=this.getTicks(this.props);this.renderTicks(e,this.props)}},{key:"renderTicks",value:function(e,t){var o=this,a=t.axis;e.forEach(function(e){var t=a[e],r=o.scale.project(a[e]),n=document.createElement("span");n.classList.add("x-axis__tick"),n.classList.add("x-axis__tick--shown"),n.style.transform="translate("+r+"px)";var i=o.getTickValueModificator(e);n.innerHTML='\n        <span class="x-axis__tick-value '+i+'">'+(0,l.formatDate)(t)+"</span>\n      ",o.element.appendChild(n),o.ticks.set(e,n)})}},{key:"updateTicks",value:function(e,t){var n=this,i=t.axis;e.forEach(function(e){var t=n.ticks.get(e);if(t){var r=n.scale.project(i[e]);t.style.transform="translate("+r+"px)"}})}},{key:"removeTicks",value:function(e){var r=this;e.forEach(function(e){var t=r.ticks.get(e);t&&t.parentNode&&(t.classList.remove("x-axis__tick--shown"),r.ticks.delete(e),setTimeout(function(){t.parentNode.removeChild(t)},300))})}}]),n}();t.default=h},function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),o=s(r(0)),a=r(5),d=s(r(23));function s(e){return e&&e.__esModule?e:{default:e}}r(24);var l=function(e){return(0,a.throttle)(e,16,{leading:!0})},c=function(e){function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t));return i.onFrameChange=function(e){i.props.onFrameChange(e)},i.leftMouseDown=function(){i.resizeLeft=!0,document.body.style.cursor="col-resize",i.props.onFrameChangeStart()},i.leftMouseMove=l(function(e){if(i.resizeLeft){var t=e.touches?e.touches[0].clientX:e.clientX,r=Math.max(i.getRelativeResizePos(t),0);i.props.frame.end-r<10&&(r-=10-(i.props.frame.end-r)),r=Math.max(r,0),i.onFrameChange(n({},i.props.frame,{start:r}))}}),i.leftMouseUp=function(){i.resizeLeft&&(i.resizeLeft=!1,document.body.style.cursor="default",i.props.onFrameChangeEnd())},i.rightMouseDown=function(){i.resizeRight=!0,document.body.style.cursor="col-resize",i.props.onFrameChangeStart()},i.rightMouseMove=l(function(e){if(i.resizeRight){var t=e.touches?e.touches[0].clientX:e.clientX,r=Math.min(i.getRelativeResizePos(t),100);r-i.props.frame.start<10&&(r+=10-(r-i.props.frame.start)),i.onFrameChange(n({},i.props.frame,{end:r}))}}),i.rightMouseUp=function(){i.resizeRight&&(i.resizeRight=!1,document.body.style.cursor="default",i.props.onFrameChangeEnd())},i.frameMouseDown=function(e){i.frameMove=!0,i.props.onFrameChangeStart(),i.frameDragStartPos=e.touches?e.touches[0].clientX:e.clientX},i.frameMouseMove=l(function(e){if(i.frameMove){var t=i.props.frame,r=e.touches?e.touches[0].clientX:e.clientX,n=i.correctCoordinate(r);i.frameDragStartPos=r,i.onFrameChange({start:Math.max(t.start+n,0),end:t.end+n})}}),i.frameMouseUp=function(){i.frameMove&&(i.frameMove=!1,i.props.onFrameChangeEnd())},i.elementRect=i.element.getBoundingClientRect(),i.resizeLeft=!1,i.resizeRight=!1,i.frameMove=!1,i.render(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,o.default),i(r,[{key:"processNewProps",value:function(e){this.canvas.setProps({series:e.series,time:e.time}),this.props.frame!==e.frame&&this.updateStyles(e.frame,!1)}},{key:"getRelativeResizePos",value:function(e){var t=this.elementRect;return(e-t.left)/t.width*100}},{key:"correctCoordinate",value:function(e){var t=this.props.frame,r=(e-this.frameDragStartPos)/this.elementRect.width*100,n=t.start+r,i=100-t.end-r;return n<0?r-n:i<0?r+i:r}},{key:"render",value:function(){this.element.classList.add("explorer"),this.element.innerHTML='\n      <canvas id="explorer-canvas"></canvas>\n      <div class="explorer__left-overlay">\n        <div class="explorer__overlay-handle explorer__overlay-handle--left">\n          <div class="explorer__overlay-handle-marker"></div>\n        </div>     \n      </div>\n      <div class="explorer__right-overlay">\n        <div class="explorer__overlay-handle explorer__overlay-handle--right">\n          <div class="explorer__overlay-handle-marker"></div>\n        </div>\n      </div>\n      <div class="explorer__frame">\n        <div class="explorer__frame-inner"></div>\n      </div>  \n    ';var e=p(this.element.children,4),t=e[0],r=e[1],n=e[2],i=e[3];this.leftOverlayEl=r,this.rightOverlayEl=n,this.frameEl=i;var o=p(r.children,1)[0],a=p(n.children,1)[0];o.addEventListener("touchstart",this.leftMouseDown,{passive:!1}),window.addEventListener("touchmove",this.leftMouseMove,{passive:!1}),window.addEventListener("touchend",this.leftMouseUp),o.addEventListener("mousedown",this.leftMouseDown),window.addEventListener("mousemove",this.leftMouseMove),window.addEventListener("mouseup",this.leftMouseUp),a.addEventListener("touchstart",this.rightMouseDown,{passive:!1}),window.addEventListener("touchmove",this.rightMouseMove,{passive:!1}),window.addEventListener("touchend",this.rightMouseUp),a.addEventListener("mousedown",this.rightMouseDown),window.addEventListener("mousemove",this.rightMouseMove),window.addEventListener("mouseup",this.rightMouseUp),this.frameEl.addEventListener("touchstart",this.frameMouseDown,{passive:!1}),window.addEventListener("touchmove",this.frameMouseMove,{passive:!1}),window.addEventListener("touchend",this.frameMouseUp),this.frameEl.addEventListener("mousedown",this.frameMouseDown),window.addEventListener("mousemove",this.frameMouseMove),window.addEventListener("mouseup",this.frameMouseUp);var s=function(e){e.preventDefault()};o.addEventListener("dragstart",s),a.addEventListener("dragstart",s),this.frameEl.addEventListener("dragstart",s);var l=this.props,c=l.axis,u=l.series,f=l.yScaled,h=l.stacked;this.canvas=new d.default(t,{width:this.elementRect.width,height:this.elementRect.height,axis:c,series:u,stacked:h,yScaled:f,frame:{start:0,end:100}}),this.updateStyles(this.props.frame,!0)}},{key:"updateStyles",value:function(e,t){var r=e.start,n=e.end;(t||this.props.frame.start!==r)&&(this.leftOverlayEl.style.width=r+"%"),(t||this.props.frame.end!==n)&&(this.rightOverlayEl.style.width=100-n+"%"),this.frameEl.style.left=r+"%",this.frameEl.style.width=n-r+"%"}}]),r}();t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),i=o(r(0)),d=r(1),v=r(2),s=r(6),m=o(r(9));function o(e){return e&&e.__esModule?e:{default:e}}var y=0,g=0,l=function(e){function o(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e,t));r.context=r.element.getContext("2d"),r.dpr=window.devicePixelRatio||1;var n=t.width,i=t.height;return e.width=n*r.dpr,e.height=i*r.dpr,e.style.width=n+"px",e.style.height=i+"px",r.context.scale(r.dpr,r.dpr),r.render(t),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,i.default),n(o,[{key:"processNewProps",value:function(e){for(var t=this.props.series,r=!1,n=0,i=t.length;n<i;n+=1){var o=t[n];if((0,s.updateAnimation)(o.aOpacity,e.time)&&(r=!0),(0,s.updateAnimation)(o.aDomainMinGlobal,e.time)&&(r=!0),(0,s.updateAnimation)(o.aDomainMaxGlobal,e.time)&&(r=!0),r)break}r&&this.render(e)}},{key:"getStackedSeries",value:function(e){if(!this.props.stacked)return e;var t=[],i=[];return e.forEach(function(n){n.points.forEach(function(e,t){var r=i[t]||0;i[t]=r+e*n.aOpacity.value}),t.push(a({},n,{points:[].concat(i)}))}),t}},{key:"render",value:function(t){var r=this,e=t.width,n=t.height,i=t.yScaled,o=this.getStackedSeries(t.series);this.context.clearRect(0,0,e,n),i?o.forEach(function(e){r.renderSeries([e],t)}):this.renderSeries(o,t)}},{key:"renderSeries",value:function(e,t){var r=this.context,n=t.width,i=t.height,o=t.frame,a=t.axis,s=t.stacked,l=(0,d.getXDomain)(a,o),c=[e[0].aDomainMinGlobal.value,e[0].aDomainMaxGlobal.value],u=[0,n],f=[i-y,g],h=(0,v.buildScale)(l,u),p=(0,v.buildScale)(c,f);new m.default(null,{pointIndex:null,stacked:s,series:e,context:r,xScale:h,yScale:p,axis:a,startI:0,endI:a.length,strokeWidth:1.5})}}]),o}();t.default=l},function(e,t,r){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),o=n(r(0)),a=n(r(26));function n(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r.toggles=new Map,r.render(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),i(n,[{key:"processNewProps",value:function(e){var r=this,t=e.series,n=1<t.reduce(function(e,t){return t.shown?e+1:e},0);t.forEach(function(e){var t=r.toggles.get(e.id);t&&t.setProps({canUncheck:n,checked:e.shown})})}},{key:"render",value:function(){var t=this,e=this.props,r=e.series,i=e.onClick,o=1<r.reduce(function(e,t){return t.shown?e+1:e},0);r.forEach(function(r,n){var e=new a.default(t.element,{canUncheck:o,label:r.name,color:r.color,checked:r.shown,className:"chart__controls-item",onClick:function(r){function e(e,t){return r.apply(this,arguments)}return e.toString=function(){return r.toString()},e}(function(e,t){i(e,r,t,n)})});t.toggles.set(r.id,e)})}}]),n}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),o=r(0),a=(n=o)&&n.__esModule?n:{default:n};r(27);var s=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return l.call(r),r.checked=t.checked,r.render(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.default),i(n,[{key:"processNewProps",value:function(e){this.props.canUncheck!==e.canUncheck&&this.setClass(e),this.props.checked!==e.checked&&(this.checked=e.checked,this.setClass(e))}},{key:"render",value:function(){var e=this.props,t=e.label,r=e.color,n=e.className;this.toggle=document.createElement("span"),this.toggle.classList.add(n),this.toggle.classList.add("toggle"),this.toggle.style.backgroundColor=r,this.toggle.style.borderColor=r,this.toggle.style.color=r,this.toggle.addEventListener("mousedown",this.onMouseUpHandle),this.toggle.addEventListener("touchstart",this.onMouseUpHandle,{passive:!1}),this.toggle.addEventListener("mouseup",this.onMouseDownHandle),this.toggle.addEventListener("touchend",this.onMouseDownHandle,{passive:!1}),this.toggle.innerHTML='\n      <span class="toggle__marker"></span>\n      <span class="toggle__label">'+t+"</span>\n    ",this.setClass(this.props),this.element.appendChild(this.toggle)}}]),n}(),l=function(){var r=this;this.onMouseUpHandle=function(e){e.preventDefault(),r.clickStartTime=Date.now()},this.onMouseDownHandle=function(e){e.preventDefault();var t=300<Date.now()-r.clickStartTime;t?r.checked=!0:(r.checked=!r.checked,r.props.canUncheck||(r.checked=!0)),r.setClass(r.props),r.props.onClick(r.checked,t)},this.setClass=function(e){r.checked?r.toggle.classList.add("toggle--checked"):r.toggle.classList.remove("toggle--checked"),e.checked&&!e.canUncheck?r.toggle.style.opacity="0.6":r.toggle.style.opacity="1"}};t.default=s},function(e,t,r){},function(e,t,r){},,,,,,,function(e,t,r){}]);